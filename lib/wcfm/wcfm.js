import{_ as f,o as s,c as r,a as te,b as c,t as p,n as B,w,v as O,F as z,r as I,d as V,e as N,f as u,g as P,h as m,i as y,j as x,k as A,s as U,l as v,m as M,p as j,q as D,u as H,x as T,T as q,y as R,z as F,V as W,A as E,B as oe,C as ne}from"./vendor.e09aa394.js";const ie=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))d(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&d(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function d(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}};ie();class L{static post(e,o,d){var n=this;window.wcfmoptions.poster(e,o,function(i){d.call(n,i)},function(){console.log("failure")})}}const se={},le={style:{position:"absolute",width:"0",height:"0"},width:"0",height:"0",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},ae=te(`<defs><symbol id="icon-folder" viewBox="0 0 309.267 309.267"><g><path style="fill:#D0994B;" d="M260.944,43.491H125.64c0,0-18.324-28.994-28.994-28.994H48.323c-10.67,0-19.329,8.65-19.329,19.329
        		v222.286c0,10.67,8.659,19.329,19.329,19.329h212.621c10.67,0,19.329-8.659,19.329-19.329V62.82
        		C280.273,52.15,271.614,43.491,260.944,43.491z"></path><path style="fill:#E4E7E7;" d="M28.994,72.484h251.279v77.317H28.994V72.484z"></path><path style="fill:#F4B459;" d="M19.329,91.814h270.609c10.67,0,19.329,8.65,19.329,19.329l-19.329,164.298
        		c0,10.67-8.659,19.329-19.329,19.329H38.658c-10.67,0-19.329-8.659-19.329-19.329L0,111.143C0,100.463,8.659,91.814,19.329,91.814z
        		"></path></g></symbol><symbol id="icon-unfold" viewBox="0 0 32 32"><path d="M28,14H18V4c0-1.104-0.896-2-2-2s-2,0.896-2,2v10H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h10v10c0,1.104,0.896,2,2,2  s2-0.896,2-2V18h10c1.104,0,2-0.896,2-2S29.104,14,28,14z"></path></symbol><symbol id="icon-fold" viewBox="0 0 24 24"><g fill="none" stroke="#000" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line></g></symbol><symbol id="icon-file" viewBox="0 0 56 56"><g><path style="fill:#E9E9E0;" d="M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074
        		c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"></path><polygon style="fill:#D9D7CA;" points="37.5,0.151 37.5,12 49.349,12 	"></polygon><circle style="fill:#F3D55B;" cx="18.931" cy="14.431" r="4.569"></circle><polygon style="fill:#26B99A;" points="6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 	"></polygon><path style="fill:#14A085;" d="M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"></path><g></g></g></symbol><svg id="icon-ok" viewBox="0 0 256 256"><g fill="green" stroke="none" transform="translate(0.000000,256.000000) scale(0.100000,-0.100000)"><path d="M1064 2545 c-406 -72 -744 -324 -927 -690 -96 -193 -127 -333 -127 -575 0 -243 33 -387 133 -585 177 -351 518 -606 907 -676 118 -22 393 -17 511 8 110 24 252 78 356 136 327 183 569 525 628 887 19 122 19 338 0 460 -81 498 -483 914 -990 1025 -101 22 -389 28 -491 10z m814 -745 c39 -27 73 -59 77 -70 9 -27 10 -25 -372 -590 -345 -510 -357 -524 -420 -512 -19 4 -98 74 -250 225 -123 121 -225 228 -228 238 -3 10 1 31 9 47 20 40 125 132 149 132 11 0 79 -59 162 -140 79 -77 146 -140 149 -140 3 0 38 48 78 108 95 143 465 678 496 720 35 46 64 42 150 -18z"></path></g></svg><svg id="icon-not-available" viewBox="0 0 500.000000 500.000000" preserveAspectRatio="xMidYMid meet"><g fill="#b11010" stroke="none" transform="translate(0.000000,500.000000) scale(0.100000,-0.100000)"><path d="M2315 4800 c-479 -35 -928 -217 -1303 -527 -352 -293 -615 -702 -738 -1151 -104 -380 -104 -824 0 -1204 107 -389 302 -724 591 -1013 354 -354 785 -572 1279 -646 196 -30 476 -30 672 0 494 74 925 292 1279 646 354 354 571 784 646 1279 30 197 30 475 0 672 -75 495 -292 925 -646 1279 -289 289 -624 484 -1013 591 -228 62 -528 91 -767 74z m353 -511 c458 -50 874 -272 1170 -624 417 -497 536 -1174 308 -1763 -56 -145 -176 -367 -235 -434 -4 -4 -566 552 -1250 1236 l-1243 1243 94 60 c354 229 754 327 1156 282z m864 -3200 c-67 -59 -289 -179 -434 -235 -946 -366 -2024 172 -2322 1158 -47 155 -66 276 -73 453 -13 362 84 704 290 1023 l60 94 1243 -1243 c684 -684 1240 -1246 1236 -1250z"></path></g></svg><svg id="icon-help" viewBox="0 0 400 400" style="enable-background:new 0 0 400 400;" xml:space="preserve"><g><path style="fill:#cccccc;" d="M199.996,0C89.719,0,0,89.72,0,200c0,110.279,89.719,200,199.996,200C310.281,400,400,310.279,400,200
      			C400,89.72,310.281,0,199.996,0z M199.996,373.77C104.187,373.77,26.23,295.816,26.23,200
      			c0-95.817,77.957-173.769,173.766-173.769c95.816,0,173.772,77.953,173.772,173.769
      			C373.769,295.816,295.812,373.77,199.996,373.77z"></path><path style="fill:#000000;" d="M199.996,91.382c-35.176,0-63.789,28.616-63.789,63.793c0,7.243,5.871,13.115,13.113,13.115
      			c7.246,0,13.117-5.873,13.117-13.115c0-20.71,16.848-37.562,37.559-37.562c20.719,0,37.566,16.852,37.566,37.562
      			c0,20.714-16.849,37.566-37.566,37.566c-7.242,0-13.113,5.873-13.113,13.114v45.684c0,7.243,5.871,13.115,13.113,13.115
      			s13.117-5.872,13.117-13.115v-33.938c28.905-6.064,50.68-31.746,50.68-62.427C263.793,119.998,235.176,91.382,199.996,91.382z"></path><path d="M200.004,273.738c-9.086,0-16.465,7.371-16.465,16.462s7.379,16.465,16.465,16.465c9.094,0,16.457-7.374,16.457-16.465
      			S209.098,273.738,200.004,273.738z"></path></g></svg><svg id="icon-help2" viewBox="0 0 431.855 431.855" style="enable-background:new 0 0 431.855 431.855;" xml:space="preserve"><g><path style="fill:#aaaaaa;" d="M215.936,0C96.722,0,0.008,96.592,0.008,215.814c0,119.336,96.714,216.041,215.927,216.041
        		c119.279,0,215.911-96.706,215.911-216.041C431.847,96.592,335.214,0,215.936,0z M231.323,335.962
        		c-5.015,4.463-10.827,6.706-17.411,6.706c-6.812,0-12.754-2.203-17.826-6.617c-5.08-4.406-7.625-10.575-7.625-18.501
        		c0-7.031,2.463-12.949,7.373-17.745c4.91-4.796,10.933-7.194,18.078-7.194c7.031,0,12.949,2.398,17.753,7.194
        		c4.796,4.796,7.202,10.713,7.202,17.745C238.858,325.362,236.346,331.5,231.323,335.962z M293.856,180.934
        		c-3.853,7.145-8.429,13.306-13.737,18.501c-5.292,5.194-14.81,13.924-28.548,26.198c-3.788,3.463-6.836,6.503-9.12,9.12
        		c-2.284,2.626-3.991,5.023-5.105,7.202c-1.122,2.178-1.983,4.357-2.593,6.535c-0.61,2.17-1.528,5.999-2.772,11.469
        		c-2.113,11.608-8.754,17.411-19.915,17.411c-5.804,0-10.681-1.894-14.656-5.69c-3.959-3.796-5.934-9.429-5.934-16.907
        		c0-9.372,1.455-17.493,4.357-24.361c2.886-6.869,6.747-12.892,11.543-18.086c4.804-5.194,11.274-11.356,19.427-18.501
        		c7.145-6.251,12.307-10.965,15.485-14.144c3.186-3.186,5.861-6.73,8.031-10.632c2.187-3.91,3.26-8.145,3.26-12.721
        		c0-8.933-3.308-16.46-9.957-22.597c-6.641-6.137-15.209-9.21-25.703-9.21c-12.282,0-21.321,3.097-27.125,9.291
        		c-5.804,6.194-10.705,15.314-14.729,27.369c-3.804,12.616-11.006,18.923-21.598,18.923c-6.251,0-11.526-2.203-15.826-6.609
        		c-4.292-4.406-6.438-9.177-6.438-14.314c0-10.6,3.406-21.346,10.21-32.23c6.812-10.884,16.745-19.899,29.807-27.036
        		c13.054-7.145,28.296-10.722,45.699-10.722c16.184,0,30.466,2.991,42.854,8.966c12.388,5.966,21.963,14.087,28.718,24.361
        		c6.747,10.266,10.128,21.427,10.128,33.482C299.635,165.473,297.709,173.789,293.856,180.934z"></path></g></svg></defs>`,1),re=[ae];function ce(t,e){return s(),r("svg",le,re)}var de=f(se,[["render",ce]]);const ue={name:"SelectBox",props:{options:Array,optionsLabel:String,optionsKey:String,placeholder:String,modelValue:String},emits:["update:modelValue"],data(){return{selectedOption:null,isOpen:!1}},watch:{modelValue(t,e){this.select(t)}},mounted(){document.addEventListener("click",this.onDocumentClick),this.select(this.modelValue)},beforeUnmount:function(){document.removeEventListener("click",this.onDocumentClick)},methods:{onDocumentClick(t){t.target.parentNode!=this.$el&&(this.isOpen=!1)},onBoxClick(){this.isOpen=!this.isOpen},onOptionClick(t){this.isOpen=!1,this.select(t.target.getAttribute("data-key")),this.$emit("update:modelValue",this.selectedOption[this.optionsKey])},getOptionByKey(t){return this.options.find(e=>e[this.optionsKey]==t)},select(t){this.selectedOption=this.getOptionByKey(t)}}},he={class:"selectbox"},me={class:"dropdown"},pe=["data-key"],fe={class:"icon"},ge=["xlink:href"];function _e(t,e,o,d,n,i){return s(),r("div",he,[c("div",{class:B(["box",{"is-open":n.isOpen}]),onClick:e[0]||(e[0]=(...l)=>i.onBoxClick&&i.onBoxClick(...l))},p(n.selectedOption?n.selectedOption[o.optionsLabel]:o.placeholder),3),w(c("div",me,[(s(!0),r(z,null,I(o.options,l=>(s(),r("div",null,[c("div",{class:"option","data-key":l[o.optionsKey],onClick:e[1]||(e[1]=a=>i.onOptionClick(a))},[V(p(l[o.optionsLabel])+" ",1),l.icon?N(t.$slots,"default",{key:0},()=>[(s(),r("svg",fe,[c("use",{"xlink:href":"#icon-"+l.icon},null,8,ge)]))],!0):u("",!0)],8,pe)]))),256))],512),[[O,n.isOpen]])])}var G=f(ue,[["render",_e],["__scopeId","data-v-3ed78ba0"]]);const ve={name:"HelpIcon",props:{label:String,helpText:String},data(){return{}},methods:{}},ye={class:"help-icon"},be={class:"icon"},we=c("use",{"xlink:href":"#icon-help"},null,-1),Ve=[we];function ke(t,e,o,d,n,i){const l=P("tooltip");return s(),r("div",ye,[w((s(),r("svg",be,Ve,512)),[[l,{content:o.helpText,html:!0,delay:{show:100,hide:200}}]])])}var K=f(ve,[["render",ke]]);const xe={name:"ConvertOptionMenu",props:{option:Object},data(){return{btnDown:""}},computed:{tip(){}},methods:{}},Ce={class:"convert-option-menu"},Se=c("svg",{class:"icon"},[c("use",{"xlink:href":"#icon-help"})],-1),ze={class:"menu-inner"},$e={key:0,class:"buttons"},Me=["href","onMousedown"];function Oe(t,e,o,d,n,i){const l=m("VMenu");return s(),r("div",Ce,[y(l,{delay:{show:100,hide:150}},{popper:x(()=>[c("div",ze,[c("p",null,p(o.option.schema.description),1),o.option.ui.links?(s(),r("div",$e,[(s(!0),r(z,null,I(o.option.ui.links,a=>(s(),r("a",{href:a[1],target:"_blank",class:B({"mouse-down":n.btnDown==a[0]}),onMousedown:h=>n.btnDown=a[0],onMouseup:e[0]||(e[0]=h=>n.btnDown=""),onMouseleave:e[1]||(e[1]=h=>n.btnDown="")},p(a[0]),43,Me))),256))])):u("",!0)])]),default:x(()=>[Se]),_:1})])}var Ie=f(xe,[["render",Oe]]);const Le={name:"InputOption",props:["modelValue","option"],emits:["update:modelValue"],methods:{updateLocalModel(t){this.stringValue=t.toString()},onLocalChange(){switch(this.option.schema.type[0]){case"integer":var t=parseInt(this.stringValue,10);this.$emit("update:modelValue",t);break;default:this.$emit("update:modelValue",this.stringValue);break}}},computed:{valueAsString:function(){return this.modelValue.toString()},dataType:function(){if(this.option.schema.type)switch(this.option.schema.type[0]){case"integer":return"int";default:return"string"}else return""}},mounted(){this.updateLocalModel(this.modelValue)},watch:{modelValue(t,e){this.updateLocalModel(t)},option(t,e){}},data(){return{stringValue:""}}};function Be(t,e,o,d,n,i){return s(),r("div",{onInput:e[3]||(e[3]=l=>i.onLocalChange())},[i.dataType=="string"?w((s(),r("input",{key:0,"onUpdate:modelValue":e[0]||(e[0]=l=>n.stringValue=l)},null,512)),[[A,n.stringValue]]):u("",!0),i.dataType=="float"?w((s(),r("input",{key:1,type:"number","onUpdate:modelValue":e[1]||(e[1]=l=>n.stringValue=l)},null,512)),[[A,n.stringValue]]):u("",!0),i.dataType=="int"?w((s(),r("input",{key:2,type:"number","onUpdate:modelValue":e[2]||(e[2]=l=>n.stringValue=l),class:"small"},null,512)),[[A,n.stringValue]]):u("",!0)],32)}var Ae=f(Le,[["render",Be],["__scopeId","data-v-641ada22"]]);const Te={name:"MultiSelectOption",components:{VueMultiselect:U},props:["modelValue","option"],emits:["update:modelValue"],methods:{updateLocalModel(t){var e=t.toString().trim().split(",");e=e.filter(function(o){return o!=""}),this.valueAsArray=e},onLocalChange(){this.$emit("update:modelValue",this.valueAsArray.join(","))}},mounted(){this.updateLocalModel(this.modelValue)},watch:{modelValue(t,e){this.updateLocalModel(t)}},data(){return{valueAsArray:[]}}},Ue={key:0},je={key:0,class:"multiselect__single"},De={key:1,class:"multiselect__single"},Re={key:2,class:"multiselect__single"};function Fe(t,e,o,d,n,i){const l=m("VueMultiselect");return s(),v(l,{modelValue:n.valueAsArray,"onUpdate:modelValue":[e[0]||(e[0]=a=>n.valueAsArray=a),i.onLocalChange],options:o.option.ui.options,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!1,"preselect-first":!1,searchable:!1,allowEmpty:!0,placeholder:""},{selection:x(({values:a,search:h,isOpen:g})=>[g?u("",!0):(s(),r("span",Ue,[a.length>0&&a.length<o.option.ui.options.length?(s(),r("span",je,p(a.join(", ")),1)):u("",!0),a.length==o.option.ui.options.length?(s(),r("span",De," all ")):u("",!0),a.length==0&&!g?(s(),r("span",Re," none ")):u("",!0)]))]),_:1},8,["modelValue","options","onUpdate:modelValue"])}var Ye=f(Te,[["render",Fe]]);const Ne={name:"MultiSelectOption",components:{VueMultiselect:U},props:["modelValue","option"],emits:["update:modelValue"],methods:{updateLocalModel(t){var e=t.toString().trim().split(",");e=e.filter(function(o){return o!=""}),this.valueAsArray=e},onSelect(t){this.lastSelectedOption=t},onLocalChange(t,e){if(this.lastSelectedOption=="none")this.valueAsArray=["none"],this.$refs.multiselect.toggle();else if(this.lastSelectedOption=="all")this.valueAsArray=["all"],this.$refs.multiselect.toggle();else{var o=this.valueAsArray;o=o.filter(function(d){return d!="none"}),o=o.filter(function(d){return d!="all"}),this.valueAsArray=o}this.valueAsArray.length==0&&(this.valueAsArray=["none"],this.$refs.multiselect.toggle()),this.valueAsArray.length==3&&(this.valueAsArray=["all"],this.$refs.multiselect.toggle()),this.$emit("update:modelValue",this.valueAsArray.join(","))}},mounted(){this.updateLocalModel(this.modelValue)},watch:{modelValue(t,e){this.updateLocalModel(t)}},data(){return{lastSelectedOption:"",valueAsArray:[]}}},Pe={key:0},He={key:0,class:"multiselect__single"},Xe={key:1,class:"multiselect__single"},Ze={key:2,class:"multiselect__single"},qe={class:"option__desc"},We={key:0,class:"click-to-add",style:{float:"right"}};function Ee(t,e,o,d,n,i){const l=m("VueMultiselect");return s(),v(l,{ref:"multiselect",modelValue:n.valueAsArray,"onUpdate:modelValue":[e[0]||(e[0]=a=>n.valueAsArray=a),i.onLocalChange],options:o.option.ui.options,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!1,"preselect-first":!1,searchable:!1,allowEmpty:!0,onSelect:i.onSelect,hideSelected:!1,selectLabel:"",deselectLabel:""},{selection:x(({values:a,search:h,isOpen:g})=>[g?u("",!0):(s(),r("span",Pe,[a.length>0&&a.length<o.option.ui.options.length?(s(),r("span",He,p(a.join(",")),1)):u("",!0),a.length==o.option.ui.options.length?(s(),r("span",Xe," all ")):u("",!0),a.length==0&&!g?(s(),r("span",Ze," none ")):u("",!0)]))]),option:x(({option:a,index:h})=>[c("div",qe,[V(p(a)+" ",1),a!="none"&&a!="all"?(s(),r("div",We," Click to add ")):u("",!0)])]),_:1},8,["modelValue","options","onSelect","onUpdate:modelValue"])}var Ge=f(Ne,[["render",Ee],["__scopeId","data-v-6b6f53d2"]]);const Ke={name:"Toggle",props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},reverse:{type:Boolean,default:!1},checkedText:{type:String,default:null},uncheckedText:{type:String,default:null},width:{type:[Number,String],default:40},height:{type:[Number,String],default:20},uncheckedBg:{type:String,default:"#939393"},uncheckedBgHover:{type:String,default:"#838383"},checkedBg:{type:String,default:"#0075ff"},checkedBgHover:{type:String,default:"#005cc8"},disabledBg:{type:String,default:"red"},dotColor:{type:String,default:"#fff"},fontSize:{type:[Number,String],default:"12"},checkedColor:{type:String,default:"#fff"},uncheckedColor:{type:String,default:"#fff"},fontWeight:{type:[Number,String],default:"normal"}},emits:["update:modelValue"],data(){return{checked:!0,hovering:!1}},methods:{toggle(){this.checked=!this.checked,this.$emit("update:modelValue",this.checked)}},mounted(){this.checked=this.modelValue},watch:{modelValue(t,e){this.checked=t}},computed:{bgStyle(){var t;return this.disabled?t=this.disabledBg:this.checked?t=this.hovering?this.checkedBgHover:this.checkedBg:t=this.hovering?this.uncheckedBgHover:this.uncheckedBg,{width:`${this.width}px`,height:`${this.height}px`,background:t}},dotStyle(){const t={background:this.dotColor,width:`${this.height-8}px`,height:`${this.height-8}px`,"min-width":`${this.height-8}px`,"min-height":`${this.height-8}px`,"margin-left":this.checked?`${this.width-(this.height-3)}px`:"5px"};return!this.checked&&this.reverse||this.checked&&!this.reverse?t.marginLeft=`${this.width-(this.height-3)}px`:(this.checked&&this.reverse||!this.checked&&!this.reverse)&&(t.marginLeft="5px"),t},textStyle(){const t={"font-weight":this.fontWeight,"font-size":`${this.fontSize}px`,color:this.checked&&!this.disabled?this.checkedColor:this.uncheckedColor,right:this.checked?`${this.height-3}px`:"auto",left:this.checked?"auto":`${this.height-3}px`};return!this.checked&&this.reverse?(t.right=`${this.height-3}px`,t.left="auto"):this.checked&&this.reverse&&(t.left=`${this.height-3}px`,t.right="auto"),t}}},Qe=["aria-checked","aria-readonly"];function Je(t,e,o,d,n,i){return s(),r("span",{class:"vue-toggles",style:M(i.bgStyle),role:"switch",tabindex:"0","aria-checked":n.checked?"true":"false","aria-readonly":o.disabled?"true":"false",onClick:e[0]||(e[0]=l=>o.disabled?null:this.toggle()),onKeyup:[e[1]||(e[1]=j(D(l=>o.disabled?null:this.toggle(),["prevent"]),["enter"])),e[2]||(e[2]=j(D(l=>o.disabled?null:this.toggle(),["prevent"]),["space"]))],onMouseleave:e[3]||(e[3]=l=>n.hovering=!1),onMouseover:e[4]||(e[4]=l=>n.hovering=!0)},[c("span",{"aria-hidden":"true",style:M(i.dotStyle),class:"dot"},[w(c("span",{style:M(i.textStyle),class:"text"},p(o.checkedText),5),[[O,o.checkedText&&n.checked]]),w(c("span",{style:M(i.textStyle),class:"text"},p(o.uncheckedText),5),[[O,o.uncheckedText&&!n.checked]])],4)],44,Qe)}var et=f(Ke,[["render",Je]]);const tt={name:"SelectOption",components:{VueMultiselect:U},props:["modelValue","option"],emits:["update:modelValue"],methods:{updateLocalModel(t){},onLocalChange(){this.$emit("update:modelValue",this.modelValue)}},computed:{options:function(){var t=this.option.ui,e=[];return this.option.schema.enum&&(e=this.option.schema.enum),t.options&&(e=this.option.ui.options),e}},mounted(){},watch:{modelValue(t,e){}},data(){return{}}};function ot(t,e,o,d,n,i){const l=m("VueMultiselect");return s(),v(l,{modelValue:o.modelValue,"onUpdate:modelValue":[e[0]||(e[0]=a=>o.modelValue=a),i.onLocalChange],options:i.options,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!1,"preselect-first":!1,searchable:!1,selectLabel:"",deselectLabel:"",allowEmpty:!1},null,8,["modelValue","options","onUpdate:modelValue"])}var nt=f(tt,[["render",ot]]);const it={name:"SliderOption",components:{Slider:H},props:["modelValue","option"],emits:["update:modelValue"],methods:{onLocalChange(){this.$emit("update:modelValue",this.modelValue)}},mounted(){},data(){return{}}},st={class:"slider"};function lt(t,e,o,d,n,i){const l=m("Slider");return s(),r("div",st,[y(l,{modelValue:o.modelValue,"onUpdate:modelValue":[e[0]||(e[0]=a=>o.modelValue=a),i.onLocalChange],min:o.option.schema.minimum,max:o.option.schema.maximum},null,8,["modelValue","onUpdate:modelValue","min","max"])])}var at=f(it,[["render",lt],["__scopeId","data-v-636c0afb"]]);const rt={name:"ConvertOption",components:{SelectBox:G,HelpIcon:K,InputOption:Ae,SelectOption:nt,MultiSelectOption:Ye,MetadataOption:Ge,Toggle:et,SliderOption:at,ConvertOptionMenu:Ie},props:{option:{type:Object},modelValue:{},optionValues:{type:Object},show:{type:Boolean,default:!0}},methods:{emitChange(){this.$emit("update:modelValue",this.modelValue)}},mounted(){this.option.ui&&this.option.ui.display&&(this.displayExpr=new T(this.option.ui.display))},computed:{enabled(){return this.show==!1?!1:this.displayExpr?this.displayExpr.evaluate():(this.option.ui&&this.option.ui.display,!0)}},data(){return{attrName:"width",displayExpr:null}}},ct={key:0,class:"convert-option"},dt=["disabled"],ut=["change"],ht={key:0};function mt(t,e,o,d,n,i){const l=m("ConvertOptionMenu"),a=m("Toggle"),h=m("InputOption"),g=m("SelectOption"),$=m("SliderOption"),C=m("MultiSelectOption"),_=m("MetadataOption");return s(),v(q,{name:"fade"},{default:x(()=>[i.enabled?(s(),r("div",ct,[c("div",null,[c("label",{disabled:!i.enabled},p(o.option.schema.title),9,dt),o.option.schema.description?(s(),v(l,{key:0,option:o.option},null,8,["option"])):u("",!0)]),c("div",{change:i.emitChange()},[o.option.ui.component=="checkbox"?(s(),r("div",ht,[y(a,{height:20,width:40,modelValue:o.modelValue,"onUpdate:modelValue":e[0]||(e[0]=b=>o.modelValue=b)},null,8,["modelValue"])])):u("",!0),o.option.ui.component=="input"?(s(),v(h,{key:1,modelValue:o.modelValue,"onUpdate:modelValue":e[1]||(e[1]=b=>o.modelValue=b),option:o.option},null,8,["modelValue","option"])):u("",!0),o.option.ui.component=="select"?(s(),v(g,{key:2,modelValue:o.modelValue,"onUpdate:modelValue":e[2]||(e[2]=b=>o.modelValue=b),option:o.option},null,8,["modelValue","option"])):u("",!0),o.option.ui.component=="slider"?(s(),v($,{key:3,modelValue:o.modelValue,"onUpdate:modelValue":e[3]||(e[3]=b=>o.modelValue=b),option:o.option},null,8,["modelValue","option"])):u("",!0),o.option.ui.component=="multi-select"?(s(),r(z,{key:4},[o.option.id!="metadata"?(s(),v(C,{key:0,modelValue:o.modelValue,"onUpdate:modelValue":e[4]||(e[4]=b=>o.modelValue=b),option:o.option},null,8,["modelValue","option"])):u("",!0),o.option.id=="metadata"?(s(),v(_,{key:1,modelValue:o.modelValue,"onUpdate:modelValue":e[5]||(e[5]=b=>o.modelValue=b),option:o.option},null,8,["modelValue","option"])):u("",!0)],64)):u("",!0)],8,ut)])):u("",!0)]),_:1})}var pt=f(rt,[["render",mt],["__scopeId","data-v-5def6a67"]]);const ft={name:"ConvertOptions",components:{SelectBox:G,HelpIcon:K,ConvertOption:pt},props:{item:Object},computed:{converterSupportsEncoding(){return this.converterSupports("encoding")},converterSupportsNearLossless(){return this.converterSupports("nearLossless")},converterSupportsMethod(){return this.converterSupports("method")}},data(){return{advancedView:!1,converters:[{id:"cwebp",name:"cwebp"},{id:"vips",name:"vips"},{id:"ewww",name:"ewww"},{id:"gd",name:"gd"}],options:[],supportedOptions:{encoding:["cwebp","vips","imagick","gmagick","imagemagick","graphicsmagick","ffmpeg","wpc"],method:["cwebp","imagick","gmagick","imagemagick","graphicsmagick","ffmpeg","wpc"],nearLossless:["cwebp","vips","wpc"]},qualityDetectionSupported:!0,optionValues:{},encoding:"auto",converter:"cwebp","use-nice":!0,method:5,converterOptions:{ewww:{"api-key":"bogus-key-for-testing","check-key-status-before-converting":!1},cwebp:{}}}},mounted(){var t=this;let e=new T("1+1");console.log("EVAL:"+e.evaluate()),L.post("conversion-settings",{folder:""},function(o){for(var d=[],n=0;n<o.options.length;n++)o.options[n].ui&&d.push(o.options[n]);for(var n=0;n<d.length;n++){var i=d[n];t.optionValues[i.id]=i.schema.default}for(var n=0;n<d.length;n++){var i=d[n];i.ui.links||(i.ui.links=[]),i.ui.links.push(["API","https://github.com/rosell-dk/webp-convert/blob/master/docs/v2.0/converting/options.md#"+i.id])}t.options=d;let l={option:t.optionValues,imageType:"any"};if(console.log("globalContext",l),T.setGlobalContext(l),o.supportedStandardOptions){var a=o.supportedStandardOptions;a.encoding&&(t.supportedOptions.encoding=a.encoding),a.method&&(t.supportedOptions.method=a.method),a.nearLossless&&(t.supportedOptions.nearLossless=a.nearLossless)}var h=null;if(o.converters?h=o.converters:o.systemStatus.converterRequirements&&(h=t.converters),o.systemStatus.converterRequirements)for(var g=o.systemStatus.converterRequirements,n=0;n<h.length;n++){var $=h[n].id;if(g[$]){var C=g[$];for(var _ in C)C[_]===!1&&(h[n].icon="not-available")}}if(h){t.converters=h;var b=t.converter;t.converter="vips",t.converter=b}if(o.overrideDefaults){var k=o.overrideDefaults;k.converter&&(t.converter=k.converter),k.encoding&&(t.encoding=k.encoding),k.method&&(t.method=k.method)}})},watch:{converter(t,e){}},methods:{}},gt=t=>(R("data-v-563ca147"),t=t(),F(),t),_t=gt(()=>c("br",null,null,-1)),vt={class:"table-table convert-options"},yt={class:"view-select"},bt=["textContent"];function wt(t,e,o,d,n,i){const l=m("ConvertOption"),a=P("tooltip");return s(),r(z,null,[V(p(n.optionValues),1),_t,c("div",vt,[(s(!0),r(z,null,I(n.options,h=>(s(),v(l,{option:h,optionValues:n.optionValues,modelValue:n.optionValues[h.id],"onUpdate:modelValue":g=>n.optionValues[h.id]=g,show:!h.ui.advanced||n.advancedView},null,8,["option","optionValues","modelValue","onUpdate:modelValue","show"]))),256))]),c("div",yt,[w(c("button",{textContent:p(n.advancedView?"Hide advanced options":"Show advanced options"),onClick:e[0]||(e[0]=h=>n.advancedView=!n.advancedView)},null,8,bt),[[a,"Swich between advanced view (all available options) and simple view (most used options)"]])])],64)}var Vt=f(ft,[["render",wt],["__scopeId","data-v-563ca147"]]);const kt={name:"FileItem",emits:["toggle","select"],props:{item:Object},data(){return{hover:!1,selected:!1}},inject:["wcfm"],methods:{onClick(t){console.log("click",t.target),this.selected=!0,this.$emit("select",this)},getWCFM(){return this.wcfm},getFullPath(){for(var t=this.$parent,e=[];t!==null&&t.$parent!==null;)t.item&&e.push(t.item.name),t=t.$parent;return e.pop(),e.reverse().join("/")},infoClick(){this.getWCFM().displayInfo(this.getFullPath())},convertClick(){this.getWCFM().onConvertClick(this.getFullPath())}}},Y=t=>(R("data-v-7b8cffc0"),t=t(),F(),t),xt={key:0,class:"icon-fold"},Ct=Y(()=>c("use",{"xlink:href":"#icon-fold"},null,-1)),St=[Ct],zt={key:1,class:"icon-unfold"},$t=Y(()=>c("use",{"xlink:href":"#icon-unfold"},null,-1)),Mt=[$t],Ot=Y(()=>c("use",{"xlink:href":"#icon-folder"},null,-1)),It=[Ot],Lt={key:2,class:"icon-file"},Bt=Y(()=>c("use",{"xlink:href":"#icon-file"},null,-1)),At=[Bt];function Tt(t,e,o,d,n,i){return s(),r("div",{class:B({fileitem:!0,selected:n.selected}),onMouseover:e[2]||(e[2]=l=>n.hover=!0),onMouseleave:e[3]||(e[3]=l=>n.hover=!1),onClick:e[4]||(e[4]=(...l)=>i.onClick&&i.onClick(...l))},[c("p",null,[o.item.isDir?(s(),r("span",{key:0,class:"foldUnfold",onClick:e[0]||(e[0]=l=>this.$emit("toggle"))},[o.item.isOpen?(s(),r("svg",xt,St)):u("",!0),o.item.isOpen?u("",!0):(s(),r("svg",zt,Mt))])):u("",!0),o.item.isDir?(s(),r("svg",{key:1,class:"icon-folder",onClick:e[1]||(e[1]=l=>this.$emit("toggle"))},It)):u("",!0),o.item.isDir?u("",!0):(s(),r("svg",Lt,At)),V(" "+p(o.item.name),1)])],34)}var Ut=f(kt,[["render",Tt],["__scopeId","data-v-7b8cffc0"]]);const jt={name:"FileTree",components:{FileItem:Ut},emits:["select"],props:{item:Object},methods:{toggle(){this.item.isOpen=!this.item.isOpen},onSelect(t){this.$emit("select",t)}}},Dt={key:0,class:"tree"};function Rt(t,e,o,d,n,i){const l=m("FileItem"),a=m("FileTree",!0);return s(),r(z,null,[y(l,{item:o.item,onDblclick:i.toggle,onToggle:i.toggle,onSelect:i.onSelect},null,8,["item","onDblclick","onToggle","onSelect"]),o.item.children!==void 0&&o.item.isOpen?(s(),r("ul",Dt,[(s(!0),r(z,null,I(o.item.children,h=>(s(),r("li",null,[y(a,{item:h,onSelect:i.onSelect},null,8,["item","onSelect"])]))),256))])):u("",!0)],64)}var Ft=f(jt,[["render",Rt]]);const Yt={name:"Files",components:{FileTree:Ft},emits:["select"],props:{item:Object},methods:{onSelect(t){this.selectedItem&&(this.selectedItem.selected=!1),this.selectedItem=t,this.$emit("select",this.selectedItem.getFullPath(),this.selectedItem.item.isDir)}},data(){return{selected:null}}};function Nt(t,e,o,d,n,i){const l=m("FileTree");return s(),v(l,{item:o.item,onSelect:i.onSelect},null,8,["item","onSelect"])}var Pt=f(Yt,[["render",Nt]]);const Ht={name:"InfoPane",components:{},props:{info:Object},methods:{}},Xt={key:0},Zt=c("h2",null,"Original",-1),qt=c("br",null,null,-1),Wt=c("br",null,null,-1),Et={key:1},Gt=c("h2",null,"Converted",-1),Kt=c("br",null,null,-1),Qt=c("br",null,null,-1),Jt={key:2},eo=c("h2",null,"Conversion log",-1);function to(t,e,o,d,n,i){return s(),r(z,null,[o.info.original?(s(),r("div",Xt,[Zt,V(" Filename: "+p(o.info.original.name),1),qt,V(" Size: "+p(o.info.original.size),1),Wt])):u("",!0),o.info.converted?(s(),r("div",Et,[Gt,V(" Filename: "+p(o.info.converted.name),1),Kt,V(" Size: "+p(o.info.converted.size),1),Qt])):u("",!0),o.info.log?(s(),r("div",Jt,[eo,V(" "+p(o.info.log),1)])):u("",!0)],64)}var oo=f(Ht,[["render",to]]);const no={name:"Modal",emits:["close"],props:{title:{type:String},closeButtonText:{type:String},alignment:{type:String},width:{type:[Number,String],default:"95%"},height:{type:[Number,String],default:"95%"},maxheight:{type:[Number,String],default:"700px"}},computed:{containerStyle(){let t={width:this.width,height:this.height,"max-height":this.maxheight};return this.alignment=="center"&&(t.margin="0px auto"),this.alignment=="right"&&(t.position="absolute",t.right="10px"),t}},methods:{onCloseClick(){this.$emit("close")}}},io={class:"modal-mask"},so={class:"modal-wrapper"},lo={class:"title"},ao={class:"modal-body"},ro={class:"content"},co=V(" default body "),uo={class:"close-button-with-text"};function ho(t,e,o,d,n,i){return s(),r("div",io,[c("div",so,[c("div",{class:"modal-container",style:M(i.containerStyle)},[c("a",{class:"close-button",onClick:e[0]||(e[0]=(...l)=>i.onCloseClick&&i.onCloseClick(...l))},"X"),c("div",lo,p(o.title),1),c("div",ao,[c("div",ro,[N(t.$slots,"default",{},()=>[co]),c("div",uo,[c("button",{onClick:e[1]||(e[1]=(...l)=>i.onCloseClick&&i.onCloseClick(...l))},p(o.closeButtonText),1)])])])],4)])])}var mo=f(no,[["render",ho]]);const po={name:"ZoomSlider",components:{Slider:H},emits:["update:zoom"],props:{zoom:{type:Number,default:1}},watch:{exp(t,e){this.$emit("update:zoom",2**t)},zoom(t,e){this.exp=Math.log2(t)}},methods:{sliderFormat(t){return Math.round(2**t*100)+"%"}},mounted(){},data(){return{exp:0}}},fo={class:"zoom-slider"};function go(t,e,o,d,n,i){const l=m("Slider");return s(),r("div",fo,[y(l,{modelValue:n.exp,"onUpdate:modelValue":e[0]||(e[0]=a=>n.exp=a),min:-4,max:4,width:100,step:-1,format:i.sliderFormat,tooltipPosition:"bottom",orientation:"horizontal"},null,8,["modelValue","format"])])}var _o=f(po,[["render",go]]);const vo={name:"ImageViewport",components:{VueZoomer:W,ZoomSlider:_o},emits:["update:zoom","update:translateX","update:translateY","load","resize"],props:{src:{type:String},height:{type:Number,default:500},zoom:{type:Number,default:1},scaleZoomRatio:{type:Number},translateX:{type:Number,default:1},translateY:{type:Number,default:1}},data(){return{ratio:1,ro:null}},watch:{height(t,e){var o;((o=this.$refs)==null?void 0:o.zoomer)&&(this.$refs.zoomer.onWindowResize(),this.$refs.zoomer.refreshContainerPos())},scaleZoomRatio(t){var e;((e=this.$refs)==null?void 0:e.zoomer)&&(this.$refs.zoomer.onWindowResize(),this.$refs.zoomer.refreshContainerPos()),this.$refs.zoomer.scale=this.zoom*this.scaleZoomRatio},zoom(t,e){this.isImageReady(),this.$refs.zoomer.scale=t*this.scaleZoomRatio},translateX(t,e){this.$refs.zoomer.translateX!=t&&(this.$refs.zoomer.translateX=t)},translateY(t,e){this.$refs.zoomer.translateY!=t&&(this.$refs.zoomer.translateY=t)}},methods:{getGoodContainerHeight(){var t,e,o;if((e=(t=this.$refs)==null?void 0:t.theimg)==null?void 0:e.naturalWidth){let d=this.$refs.theimg.naturalWidth/this.$refs.theimg.naturalHeight,i=((o=this.$refs.root)==null?void 0:o.offsetWidth)/d;return i>300&&(i=300),i}return 300},updateContainerHeight(){},isImageReady(){var t,e,o;return!(!((e=(t=this.$refs)==null?void 0:t.theimg)==null?void 0:e.naturalWidth)||!((o=this.$refs.root)==null?void 0:o.offsetWidth))},calcScaleZoomRatio(){var d,n;if(!this.isImageReady())return 1;let t=this.$refs.theimg.naturalWidth/((d=this.$refs.root)==null?void 0:d.offsetWidth),e=this.$refs.theimg.naturalHeight/((n=this.$refs.root)==null?void 0:n.offsetHeight),o=Math.max(t,e);return isNaN(o)?1:o},updateRatio(){},updateScale(){this.zoom&&(this.$refs.zoomer.scale=this.zoom*this.scaleZoomRatio)},zoomToFit(){},onImgLoad(){var t,e;((e=(t=this.$refs)==null?void 0:t.theimg)==null?void 0:e.naturalWidth)&&this.$emit("load")},onResize(){this.$emit("resize")},onDoubleTap(){console.log("double tab - zoom to 100%"),this.$emit("update:zoom",1),this.$emit("update:translateX",0),this.$emit("update:translateY",0)}},mounted(){window.ResizeObserver&&(this.ro=new ResizeObserver(this.onResize).observe(this.$refs.root)),this.$refs.zoomer.tapDetector.onDoubleTap(this.onDoubleTap),this.$watch("$refs.zoomer.scale",(t,e)=>{this.isImageReady(),this.$emit("update:zoom",t/this.scaleZoomRatio)}),this.$watch("$refs.zoomer.translateX",(t,e)=>{this.$emit("update:translateX",t)}),this.$watch("$refs.zoomer.translateY",(t,e)=>{this.$emit("update:translateY",t)})},beforeDestroy(){window.ResizeObserver&&this.ro.unobserve(this.$refs.zoomer)}},yo={ref:"root",class:"image-viewport"},bo=["src"],wo={class:"zoom-info"};function Vo(t,e,o,d,n,i){const l=m("v-zoomer");return s(),r("div",yo,[y(l,{ref:"zoomer",class:"zoomer",minScale:.1,maxScale:8,onResize:i.onResize,doubleClickToZoom:!1,style:M({height:o.height+"px"}),pivot:"cursor",limitTranslation:!1,lockPanOnNoScale:!1},{default:x(()=>[c("img",{ref:"theimg",src:o.src,onLoad:e[0]||(e[0]=(...a)=>i.onImgLoad&&i.onImgLoad(...a))},null,40,bo)]),_:1},8,["minScale","onResize","style"]),c("div",wo," zoom: "+p(Math.round(o.zoom*100))+"% ",1)],512)}var ko=f(vo,[["render",Vo]]);const xo={name:"Variant",components:{ImageViewport:ko},emits:["select","update:zoom","update:translateX","update:translateY","load","resize"],props:{title:{type:String},info:{type:Object},url:{type:String,default:""},height:{type:Number},zoom:{type:Number},scaleZoomRatio:{type:Number},translateX:{type:Number},translateY:{type:Number},variantIndex:{type:Number}},computed:{imageUrl:function(){var t;return(t=this.info)==null?void 0:t.url},filesize:function(){var e;if(!((e=this.info)==null?void 0:e.size))return"";let t=this.info.size;return t<1024?t+" bytes":(t/=1024,t<1024?Math.round(t*10)/10+" kb":(t/=1024,Math.round(t*10)/10+" MB"))}},methods:{onVariantSelect(){this.$emit("select",this.variantIndex)},onLoad(){this.$emit("load")},zoomToFit(){this.$refs.theport.zoomToFit()}},mounted(){this.$watch("$refs.theport.zoom",(t,e)=>{this.$emit("update:zoom",t)}),this.$watch("$refs.theport.translateX",(t,e)=>{this.$emit("update:translateX",t)}),this.$watch("$refs.theport.translateY",(t,e)=>{this.$emit("update:translateY",t)})},data(){return{}}},Co={class:"variant"},So={class:"header"},zo={class:"title"},$o={class:"size"};function Mo(t,e,o,d,n,i){const l=m("ImageViewport");return s(),r("div",Co,[c("div",So,[c("div",zo,p(o.title),1),c("div",$o,p(i.filesize),1)]),y(l,{ref:"theport",src:i.imageUrl,height:o.height,zoom:o.zoom,"onUpdate:zoom":e[0]||(e[0]=a=>o.zoom=a),scaleZoomRatio:o.scaleZoomRatio,translateX:o.translateX,"onUpdate:translateX":e[1]||(e[1]=a=>o.translateX=a),translateY:o.translateY,"onUpdate:translateY":e[2]||(e[2]=a=>o.translateY=a),onLoad:i.onLoad,onResize:e[3]||(e[3]=a=>this.$emit("resize"))},null,8,["src","height","zoom","scaleZoomRatio","translateX","translateY","onLoad"])])}var Q=f(xo,[["render",Mo],["__scopeId","data-v-0372e854"]]);const Oo={name:"Variants",components:{Variant:Q},emits:["update:zoom","update:translateX","update:translateY"],props:{file:{type:Object},viewport:{type:Object},height:{type:Number},zoom:{type:Number,default:1},translateX:{type:Number,default:0},translateY:{type:Number,default:0}},watch:{file(t,e){console.log("file changed:",t)}},methods:{onZoomChange(t){this.$emit("update:zoom",t)},onTranslateXChange(t){this.$emit("update:translateX",t)},onTranslateYChange(t){this.$emit("update:translateY",t)},sliderFormat(t){return Math.round(t*100)+"%"},changeImage(){this.imageUrl=="http://localhost:3000/src/assets/dummy.jpg"?this.imageUrl="http://localhost:3000/src/assets/dummy2.jpg":this.imageUrl="http://localhost:3000/src/assets/dummy.jpg",this.selectedVariant=-1},onVariantSelect(t){this.selectedVariant=t}},mounted(){this.$watch("$refs.variants.zoom",(t,e)=>{})},data(){var t="http://localhost:3000/src/assets/200x100.jpg";return{imageUrl:"",selectedVariant:-1,variants:[{title:"Existing conversion",size:732,url:t},{title:"Lossy, q:20",size:35e5,url:t}]}}},J=t=>(R("data-v-7b21e761"),t=t(),F(),t),Io={class:"variants-component"},Lo=J(()=>c("br",null,null,-1)),Bo=J(()=>c("br",null,null,-1)),Ao={class:"variants"};function To(t,e,o,d,n,i){const l=m("Variant");return s(),r("div",Io,[V(" File: "+p(o.file)+" ",1),c("button",{onClick:e[0]||(e[0]=a=>i.changeImage())},"Change image"),Lo,Bo,c("div",Ao,[(s(!0),r(z,null,I(n.variants,(a,h)=>(s(),v(l,{title:a.title,info:a,variantIndex:h,class:B({selected:h==n.selectedVariant}),height:o.height,zoom:o.zoom,"onUpdate:zoom":[e[1]||(e[1]=g=>o.zoom=g),i.onZoomChange],translateX:o.translateX,"onUpdate:translateX":[e[2]||(e[2]=g=>o.translateX=g),i.onTranslateXChange],translateY:o.translateY,"onUpdate:translateY":[e[3]||(e[3]=g=>o.translateY=g),i.onTranslateYChange],onSelect:i.onVariantSelect},null,8,["title","info","variantIndex","class","height","zoom","translateX","translateY","onSelect","onUpdate:zoom","onUpdate:translateX","onUpdate:translateY"]))),256))])])}var Uo=f(Oo,[["render",To],["__scopeId","data-v-7b21e761"]]);const jo={name:"FileProperties",components:{Variant:Q,Variants:Uo},props:{file:{type:Object,default:{}}},watch:{file(t,e){console.log("file changed:",t),t.isDir||this.load(t.path)}},methods:{onVariantSelect(t){this.selectedVariant=t},onOriginalLoad(){console.log("original load"),this.updateHeight();let t=this.$refs.original.$refs.theport.calcScaleZoomRatio();if(console.log("scaleZoomRatio is:",t),t>1){console.log("shrinking to fit");let e=this.$refs.original.$refs.theport,o=e.$refs.theimg,d=e.$refs.root,n=o.naturalWidth,i=o.naturalHeight,l=d.offsetWidth,a=this.height,h=a/i,g=l/n;console.log("h",i,"ch",a,"zh",h,"cw",l),this.zoom=Math.min(h,g)}else console.log("it fits when 100%"),this.zoom=1;this.translateX=0,this.translateY=0},onOriginalResize(){this.updateHeight()},updateHeight(){this.$refs.original&&(this.height=this.$refs.original.$refs.theport.getGoodContainerHeight(),this.scaleZoomRatio=this.$refs.original.$refs.theport.calcScaleZoomRatio(),console.log("this.scaleZoomRatio",this.scaleZoomRatio))},reset(){this.originalInfo=null,this.convertedInfo=null,this.errorMsg=""},load(t){let e=this;e.reset(),e.loading=!0,L.post("info",{path:t},function(o){o.success||(e.errorMsg=o.data),e.loading=!1,e.originalInfo=o.original,o.converted&&(e.convertedInfo=o.converted)})}},mounted(){this.file&&this.load(this.file.path)},data(){return{zoom:1,scaleZoomRatio:1,translateX:0,translateY:0,height:100,loading:!1,errorMsg:"",originalInfo:null,convertedInfo:null}}},ee=t=>(R("data-v-2aa3d356"),t=t(),F(),t),Do={class:"file-properties"},Ro={class:"path"},Fo=V(" Path: "),Yo={class:"path"},No={key:0,class:"error"},Po=ee(()=>c("p",null," Above, you see the original image. If it has been converted, you also see the converted image (provided that your browser supports webp). ",-1)),Ho=ee(()=>c("p",null," You can zoom in on the image, ie using scroll wheel. Both images will zoom, allowing you to compare the quality. Double-click the image to set zoom to 100% ",-1));function Xo(t,e,o,d,n,i){const l=m("Variant");return s(),r("div",Do,[c("div",Ro,[Fo,c("span",Yo,p(o.file.path),1)]),n.errorMsg?(s(),r("div",No,p(n.errorMsg),1)):u("",!0),w(c("div",null,"Getting info...",512),[[O,n.loading]]),w(y(l,{ref:"original",title:"Original",info:n.originalInfo,height:n.height,zoom:n.zoom,"onUpdate:zoom":e[0]||(e[0]=a=>n.zoom=a),scaleZoomRatio:n.scaleZoomRatio,translateX:n.translateX,"onUpdate:translateX":e[1]||(e[1]=a=>n.translateX=a),translateY:n.translateY,"onUpdate:translateY":e[2]||(e[2]=a=>n.translateY=a),onLoad:i.onOriginalLoad,onResize:i.onOriginalResize},null,8,["info","height","zoom","scaleZoomRatio","translateX","translateY","onLoad","onResize"]),[[O,n.originalInfo]]),w(y(l,{title:"Existing conversion",info:n.convertedInfo,height:n.height,zoom:n.zoom,"onUpdate:zoom":e[3]||(e[3]=a=>n.zoom=a),scaleZoomRatio:n.scaleZoomRatio,translateX:n.translateX,"onUpdate:translateX":e[4]||(e[4]=a=>n.translateX=a),translateY:n.translateY,"onUpdate:translateY":e[5]||(e[5]=a=>n.translateY=a)},null,8,["info","height","zoom","scaleZoomRatio","translateX","translateY"]),[[O,n.convertedInfo]]),Po,Ho])}var Zo=f(jo,[["render",Xo],["__scopeId","data-v-2aa3d356"]]);const qo={name:"FolderProperties",components:{},props:{file:{type:Object,default:{}}},watch:{file(t,e){console.log("file changed:",t)}}},Wo={class:"folder-properties"},Eo={class:"path"},Go=V(" Path: "),Ko={class:"path"},Qo=c("p",null," You cannot do anything on folders yet. Browse to an image... ",-1);function Jo(t,e,o,d,n,i){return s(),r("div",Wo,[c("div",Eo,[Go,c("span",Ko,p(o.file.path),1)]),Qo])}var en=f(qo,[["render",Jo]]);const tn={name:"Group",components:{},props:{modelValue:{},ui:Object,schema:Object},emits:["update:modelValue"],methods:{onLocalChange(){this.$emit("update:modelValue",this.modelValue)}},mounted(){},data(){return{}}},on={class:"group"},nn={key:0,style:{"margin-top":"0","margin-bottom":"20px"}};function sn(t,e,o,d,n,i){return s(),r("div",on,[o.ui.title?(s(),r("h3",nn,p(o.ui?o.ui.title:""),1)):u("",!0),N(t.$slots,"default")])}var ln=f(tn,[["render",sn]]);const an={name:"Input",props:{modelValue:{},schema:Object},emits:["update:modelValue"],methods:{updateLocalModel(t){this.stringValue=t.toString()},onLocalChange(){var o;switch(((o=this==null?void 0:this.schema)==null?void 0:o.type)?this.schema.type[0]:"string"){case"integer":var e=parseInt(this.stringValue,10);this.$emit("update:modelValue",e);break;default:this.$emit("update:modelValue",this.stringValue);break}}},computed:{valueAsString:function(){return this.modelValue.toString()},dataType:function(){var t;if((t=this==null?void 0:this.schema)==null?void 0:t.type)switch(this.schema.type[0]){case"integer":return"int";default:return"string"}else return""}},mounted(){this.updateLocalModel(this.modelValue)},watch:{modelValue(t,e){this.updateLocalModel(t)},option(t,e){}},data(){return{stringValue:""}}};function rn(t,e,o,d,n,i){return s(),r("div",{onInput:e[3]||(e[3]=l=>i.onLocalChange())},[i.dataType=="string"?w((s(),r("input",{key:0,"onUpdate:modelValue":e[0]||(e[0]=l=>n.stringValue=l)},null,512)),[[A,n.stringValue]]):u("",!0),i.dataType=="float"?w((s(),r("input",{key:1,type:"number","onUpdate:modelValue":e[1]||(e[1]=l=>n.stringValue=l)},null,512)),[[A,n.stringValue]]):u("",!0),i.dataType=="int"?w((s(),r("input",{key:2,type:"number","onUpdate:modelValue":e[2]||(e[2]=l=>n.stringValue=l),class:"small"},null,512)),[[A,n.stringValue]]):u("",!0)],32)}var cn=f(an,[["render",rn],["__scopeId","data-v-2bcaa592"]]);const dn={name:"MultiSelect",components:{VueMultiselect:U},props:{modelValue:{},schema:Object,ui:Object},emits:["update:modelValue"],computed:{options:function(){var e,o;var t=[];return((e=this==null?void 0:this.schema)==null?void 0:e.enum)&&(t=this.schema.enum),((o=this==null?void 0:this.ui)==null?void 0:o.options)&&(t=this.ui.options),t}},methods:{updateLocalModel(t){var e=t.toString().trim().split(",");e=e.filter(function(o){return o!=""}),this.valueAsArray=e},onLocalChange(){this.$emit("update:modelValue",this.valueAsArray.join(","))}},mounted(){this.updateLocalModel(this.modelValue)},watch:{modelValue(t,e){this.updateLocalModel(t)}},data(){return{valueAsArray:[]}}},un={key:0},hn={key:0,class:"multiselect__single"},mn={key:1,class:"multiselect__single"},pn={key:2,class:"multiselect__single"};function fn(t,e,o,d,n,i){const l=m("VueMultiselect");return s(),v(l,{modelValue:n.valueAsArray,"onUpdate:modelValue":[e[0]||(e[0]=a=>n.valueAsArray=a),i.onLocalChange],options:i.options,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!1,"preselect-first":!1,searchable:!1,allowEmpty:!0,placeholder:""},{selection:x(({values:a,search:h,isOpen:g})=>[g?u("",!0):(s(),r("span",un,[a.length>0&&a.length<i.options.length?(s(),r("span",hn,p(a.join(", ")),1)):u("",!0),a.length==i.options.length?(s(),r("span",mn," all ")):u("",!0),a.length==0&&!g?(s(),r("span",pn," none ")):u("",!0)]))]),_:1},8,["modelValue","options","onUpdate:modelValue"])}var gn=f(dn,[["render",fn]]);const _n={name:"Select",components:{VueMultiselect:U},props:{modelValue:{},ui:Object,schema:Object},emits:["update:modelValue"],methods:{updateLocalModel(t){},onLocalChange(){this.$emit("update:modelValue",this.modelValue)}},computed:{options:function(){var e,o;var t=[];return((e=this==null?void 0:this.schema)==null?void 0:e.enum)&&(t=this.schema.enum),((o=this==null?void 0:this.ui)==null?void 0:o.options)&&(t=this.ui.options),t}},mounted(){},watch:{modelValue(t,e){}},data(){return{}}};function vn(t,e,o,d,n,i){const l=m("VueMultiselect");return s(),v(l,{modelValue:o.modelValue,"onUpdate:modelValue":[e[0]||(e[0]=a=>o.modelValue=a),i.onLocalChange],options:i.options,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!1,"preselect-first":!1,searchable:!1,selectLabel:"",deselectLabel:"",allowEmpty:!1},null,8,["modelValue","options","onUpdate:modelValue"])}var yn=f(_n,[["render",vn]]);const bn={name:"Slider",components:{VueSlider:H},props:{modelValue:{},ui:Object,schema:Object},emits:["update:modelValue"],methods:{onLocalChange(){this.$emit("update:modelValue",this.modelValue)}},mounted(){},data(){return{}}},wn={class:"slider"};function Vn(t,e,o,d,n,i){const l=m("VueSlider");return s(),r("div",wn,[y(l,{modelValue:o.modelValue,"onUpdate:modelValue":[e[0]||(e[0]=a=>o.modelValue=a),i.onLocalChange],min:o.schema.minimum,max:o.schema.maximum},null,8,["modelValue","onUpdate:modelValue","min","max"])])}var kn=f(bn,[["render",Vn],["__scopeId","data-v-8f297ee6"]]);const xn={name:"Toggle",props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},reverse:{type:Boolean,default:!1},checkedText:{type:String,default:null},uncheckedText:{type:String,default:null},width:{type:[Number,String],default:75},height:{type:[Number,String],default:25},uncheckedBg:{type:String,default:"#939393"},uncheckedBgHover:{type:String,default:"#838383"},checkedBg:{type:String,default:"#0075ff"},checkedBgHover:{type:String,default:"#005cc8"},disabledBg:{type:String,default:"red"},dotColor:{type:String,default:"#fff"},fontSize:{type:[Number,String],default:"12"},checkedColor:{type:String,default:"#fff"},uncheckedColor:{type:String,default:"#fff"},fontWeight:{type:[Number,String],default:"normal"}},emits:["update:modelValue"],data(){return{checked:!0,hovering:!1}},methods:{toggle(){this.checked=!this.checked,this.$emit("update:modelValue",this.checked)}},mounted(){this.checked=this.modelValue},watch:{modelValue(t,e){this.checked=t}},computed:{bgStyle(){var t;return this.disabled?t=this.disabledBg:this.checked?t=this.hovering?this.checkedBgHover:this.checkedBg:t=this.hovering?this.uncheckedBgHover:this.uncheckedBg,{width:`${this.width}px`,height:`${this.height}px`,background:t}},dotStyle(){const t={background:this.dotColor,width:`${this.height-8}px`,height:`${this.height-8}px`,"min-width":`${this.height-8}px`,"min-height":`${this.height-8}px`,"margin-left":this.checked?`${this.width-(this.height-3)}px`:"5px"};return!this.checked&&this.reverse||this.checked&&!this.reverse?t.marginLeft=`${this.width-(this.height-3)}px`:(this.checked&&this.reverse||!this.checked&&!this.reverse)&&(t.marginLeft="5px"),t},textStyle(){const t={"font-weight":this.fontWeight,"font-size":`${this.fontSize}px`,color:this.checked&&!this.disabled?this.checkedColor:this.uncheckedColor,right:this.checked?`${this.height-3}px`:"auto",left:this.checked?"auto":`${this.height-3}px`};return!this.checked&&this.reverse?(t.right=`${this.height-3}px`,t.left="auto"):this.checked&&this.reverse&&(t.left=`${this.height-3}px`,t.right="auto"),t}}},Cn=["aria-checked","aria-readonly"];function Sn(t,e,o,d,n,i){return s(),r("span",{class:"vue-toggles",style:M(i.bgStyle),role:"switch",tabindex:"0","aria-checked":n.checked?"true":"false","aria-readonly":o.disabled?"true":"false",onClick:e[0]||(e[0]=l=>o.disabled?null:this.toggle()),onKeyup:[e[1]||(e[1]=j(D(l=>o.disabled?null:this.toggle(),["prevent"]),["enter"])),e[2]||(e[2]=j(D(l=>o.disabled?null:this.toggle(),["prevent"]),["space"]))],onMouseleave:e[3]||(e[3]=l=>n.hovering=!1),onMouseover:e[4]||(e[4]=l=>n.hovering=!0)},[c("span",{"aria-hidden":"true",style:M(i.dotStyle),class:"dot"},[w(c("span",{style:M(i.textStyle),class:"text"},p(o.checkedText),5),[[O,o.checkedText&&n.checked]]),w(c("span",{style:M(i.textStyle),class:"text"},p(o.uncheckedText),5),[[O,o.uncheckedText&&!n.checked]])],4)],44,Cn)}var zn=f(xn,[["render",Sn]]);const $n={name:"HelpIcon",props:{schema:Object,ui:Object},data(){return{btnDown:""}},methods:{}},Mn={class:"help-icon"},On=c("svg",{class:"icon"},[c("use",{"xlink:href":"#icon-help"})],-1),In={class:"menu-inner"},Ln={key:0,class:"buttons"},Bn=["href","onMousedown"];function An(t,e,o,d,n,i){const l=m("VMenu");return s(),r("div",Mn,[y(l,{delay:{show:100,hide:150}},{popper:x(()=>[c("div",In,[c("p",null,p(o.schema.description),1),o.ui.links?(s(),r("div",Ln,[(s(!0),r(z,null,I(o.ui.links,a=>(s(),r("a",{href:a[1],target:"_blank",class:B({"mouse-down":n.btnDown==a[0]}),onMousedown:h=>n.btnDown=a[0],onMouseup:e[0]||(e[0]=h=>n.btnDown=""),onMouseleave:e[1]||(e[1]=h=>n.btnDown="")},p(a[0]),43,Bn))),256))])):u("",!0)])]),default:x(()=>[On]),_:1})])}var Tn=f($n,[["render",An]]);const Un={name:"AutoComponent",components:{Group:ln,Input:cn,MultiSelect:gn,Select:yn,Slider:kn,Toggle:zn,HelpIcon:Tn},props:{ui:Object,modelValue:{},schema:Object,advancedView:Boolean,expressionContext:String},emits:["componentDataChange"],watch:{modelValue(t,e){this.updateLocalModel(t)},ui(){this.updateLocalModel(this.modelValue)},schema(){},localModel(t){this.$emit("componentDataChange",{value:this.localModel,"data-property":this.ui["data-property"]})}},computed:{componentSchema(){return this.ui.hasOwnProperty("data-property")&&this.schema.hasOwnProperty("properties")&&this.schema.properties.hasOwnProperty(this.ui["data-property"])?this.schema.properties[this.ui["data-property"]]:null},enabled(){return(this==null?void 0:this.ui.advanced)&&!this.advancedView?!1:this.displayExpr?this.displayExpr.evaluate(this.expressionContext):!0}},data(){return{localModel:"",displayExpr:null,test:"hej"}},mounted(){this.updateLocalModel(this.modelValue),(this==null?void 0:this.ui.display)&&(this.displayExpr=new T(this.ui.display))},methods:{updateLocalModel(t){this.ui.hasOwnProperty("data-property")&&t.hasOwnProperty(this.ui["data-property"])&&(this.localModel=t[this.ui["data-property"]])},onComponentDataChange(t){this.$emit("componentDataChange",t)}}},jn={key:0,class:"auto-component"},Dn={key:0},Rn={key:3};function Fn(t,e,o,d,n,i){const l=m("HelpIcon"),a=m("Toggle"),h=m("Slider"),g=m("Select"),$=m("MultiSelect"),C=m("Input"),_=m("AutoComponent",!0),b=m("Group");return s(),v(q,{name:"fade"},{default:x(()=>{var k,Z;return[i.enabled&&o.ui.component?(s(),r("div",jn,[c("div",null,[o.ui.component!="group"?(s(),r("div",Dn,[c("label",null,p((k=i.componentSchema)==null?void 0:k.title),1),((Z=i.componentSchema)==null?void 0:Z.description)?(s(),v(l,{key:0,schema:i.componentSchema,ui:o.ui},null,8,["schema","ui"])):u("",!0)])):u("",!0),c("div",{class:B("component-"+o.ui.component)},[o.ui.component=="checkbox"?(s(),v(a,{key:0,modelValue:n.localModel,"onUpdate:modelValue":e[0]||(e[0]=S=>n.localModel=S),height:20,width:40},null,8,["modelValue"])):u("",!0),o.ui.component=="slider"?(s(),v(h,{key:1,modelValue:n.localModel,"onUpdate:modelValue":e[1]||(e[1]=S=>n.localModel=S),schema:i.componentSchema},null,8,["modelValue","schema"])):u("",!0),o.ui.component=="select"?(s(),v(g,{key:2,modelValue:n.localModel,"onUpdate:modelValue":e[2]||(e[2]=S=>n.localModel=S),schema:i.componentSchema,ui:o.ui},null,8,["modelValue","schema","ui"])):u("",!0),o.ui.component=="multi-select"?(s(),r("div",Rn,[y($,{modelValue:n.localModel,"onUpdate:modelValue":e[3]||(e[3]=S=>n.localModel=S),schema:i.componentSchema,ui:o.ui},null,8,["modelValue","schema","ui"])])):u("",!0),o.ui.component=="input"?(s(),v(C,{key:4,modelValue:n.localModel,"onUpdate:modelValue":e[4]||(e[4]=S=>n.localModel=S),schema:i.componentSchema},null,8,["modelValue","schema"])):u("",!0),o.ui.component=="group"?(s(),v(b,{key:5,modelValue:n.localModel,"onUpdate:modelValue":e[5]||(e[5]=S=>n.localModel=S),schema:i.componentSchema,ui:o.ui},{default:x(()=>[(s(!0),r(z,null,I(o.ui["sub-components"],S=>(s(),v(_,{ui:S,schema:o.schema,modelValue:o.modelValue,advancedView:o.advancedView,expressionContext:o.expressionContext,onComponentDataChange:i.onComponentDataChange},null,8,["ui","schema","modelValue","advancedView","expressionContext","onComponentDataChange"]))),256))]),_:1},8,["modelValue","schema","ui"])):u("",!0)],2)])])):u("",!0)]}),_:1})}var Yn=f(Un,[["render",Fn],["__scopeId","data-v-1891f338"]]);const Nn={name:"AutoUI",components:{AutoComponent:Yn},props:{schema:Object,ui:Object,modelValue:{},expressionContext:String,advancedView:{type:Boolean,default:!1},showAdvancedButton:{type:Boolean,default:!0}},computed:{},data(){return{}},mounted(){},methods:{onComponentDataChange(t){this.modelValue[t["data-property"]]=t.value}}},Pn={class:"autoui"},Hn={key:0,class:"view-select"},Xn=["textContent"];function Zn(t,e,o,d,n,i){const l=m("AutoComponent"),a=P("tooltip");return s(),r("div",Pn,[y(l,{ui:o.ui,schema:o.schema,modelValue:o.modelValue,advancedView:o.advancedView,expressionContext:o.expressionContext,onComponentDataChange:i.onComponentDataChange},null,8,["ui","schema","modelValue","advancedView","expressionContext","onComponentDataChange"]),o.showAdvancedButton?(s(),r("div",Hn,[w(c("button",{textContent:p(o.advancedView?"Hide advanced options":"Show advanced options"),onClick:e[0]||(e[0]=h=>o.advancedView=!o.advancedView)},null,8,Xn),[[a,"Swich between advanced view (all available options) and simple view (most used options)"]])])):u("",!0)])}var qn=f(Nn,[["render",Zn],["__scopeId","data-v-18e75680"]]);const Wn={name:"ConvertOptions2",components:{AutoUI:qn},computed:{},data(){return{ui:{},schema:{},general:{ui:{},data:{quality:40,"alpha-quality":65,"auto-limit":!0,"command-line-options":"","skip-these-precompiled-binaries":""}},png:{ui:{},data:{}}}},mounted(){var t=this;L.post("conversion-settings",{folder:""},function(e){console.log("r:",e);let o=[],d=[],n={},i={},l={overrides:["encoding","quality","alpha-quality","near-lossless"]},a=[];for(var h=0;h<e.options.length;h++)a.push(e.options[h].id);d.push({component:"multi-select","data-property":"overrides",options:a}),n.overrides={title:"Overrides",description:"Select options you want to override for PNG",type:["string"],default:["hello1"]};for(var h=0;h<e.options.length;h++){let _=e.options[h];if(_.ui){let b=_.ui;b["data-property"]=_.id,o.push(b);let k=Object.assign({},_.ui);k["data-property"]=_.id,k.display?k.display='overriding("'+_.id+'") && ('+k.display+")":k.display='overriding("'+_.id+'")',d.push(k)}if(_.schema){let b=_.schema;n[_.id]=_.schema,o.push(b),_.schema.default!=null&&(i[_.id]=_.schema.default,l[_.id]=_.schema.default)}}for(const[C,_]of Object.entries(i.png))l[C]=_;t.general={ui:{component:"group",title:"","sub-components":o},data:i},t.png={ui:{component:"group",title:"PNG","sub-components":d},data:l},t.schema={title:"Options",type:["object"],properties:n};let g={option:t.general.data,imageType:"any",supported:function(C){}},$={option:t.png.data,imageType:"png",overriding:function(C){return t.png.data.overrides.indexOf(C)>-1}};T.setGlobalContext(g,"general"),T.setGlobalContext($,"png")}),L.post("get-tree",{folder:""},function(e){t.item=e})},watch:{},methods:{}},En={class:"convert-options"};function Gn(t,e,o,d,n,i){const l=m("AutoUI");return s(),r("div",En,[y(l,{ui:n.general.ui,schema:n.schema,modelValue:n.general.data,expressionContext:"general"},null,8,["ui","schema","modelValue"]),y(l,{ui:n.png.ui,schema:n.schema,modelValue:n.png.data,expressionContext:"png",advancedView:!0,showAdvancedButton:!1},null,8,["ui","schema","modelValue"])])}var Kn=f(Wn,[["render",Gn],["__scopeId","data-v-6db45966"]]);const Qn={name:"WCFM",components:{SVGs:de,ConvertOptions:Vt,ConvertOptions2:Kn,FileProperties:Zo,FolderProperties:en,Modal:mo,Files:Pt,InfoPane:oo,Splitpanes:E.exports.Splitpanes,Pane:E.exports.Pane},methods:{onConvertClick(t){var d,n;let e=(n=(d=this.$refs.convertOptions)==null?void 0:d.general)==null?void 0:n.data,o={path:t,convertOptions:e};console.log(o),L.post("convert",o,function(i){console.log("convert response:",i)})},onConvertCloseClick(){console.log("CLRCL"),this.showConvertOptions=!1},onFileSelect(t,e){this.file={path:t,isDir:e}},displayInfo(t){var e=this;L.post("info",{path:t},function(o){e.selectedInfo=o})}},mounted(){var t=this;L.post("get-tree",{folder:""},function(e){t.item=e})},data(){return{file:null,selectedItem:null,item:{},selectedInfo:{},showConvertOptions:!1}},provide(){return{wcfm:this}}},Jn={class:"wcfm",style:{overflow:"hidden"}},ei={class:"pane-content"},ti={key:0,class:"pane-content"},oi={key:1,style:{padding:"20px 30px"}},ni=c("p",null,[c("h3",null,[V("Welcome to the "),c("i",null,"very early stage of"),V(" WebP Convert file manager.")])],-1),ii=c("p",null,[V(" At current stage you can browse the image files and compare the original vs the converted file."),c("br"),V(" You cannot trigger conversions yet. To support development, you can "),c("a",{href:"https://ko-fi.com/rosell"},"buy me a cup of coffee")],-1),si=c("p",null,'To open a folder, click the "+" sign next to the folder name or double click the folder name',-1),li=[ni,ii,si];function ai(t,e,o,d,n,i){const l=m("SVGs"),a=m("Files"),h=m("pane"),g=m("FileProperties"),$=m("FolderProperties"),C=m("splitpanes"),_=m("ConvertOptions2"),b=m("Modal");return s(),r("div",Jn,[y(l),y(C,{class:"default-theme",style:{position:"absolute",top:"0",left:"0"}},{default:x(()=>[y(h,{size:"30"},{default:x(()=>[c("div",ei,[c("div",null,[y(a,{item:n.item,onSelect:i.onFileSelect},null,8,["item","onSelect"])])])]),_:1}),y(h,{size:"70",style:{"overflow-y":"auto"}},{default:x(()=>[n.file?(s(),r("div",ti,[n.file.isDir?u("",!0):(s(),v(g,{key:0,file:n.file},null,8,["file"])),n.file.isDir?(s(),v($,{key:1,file:n.file},null,8,["file"])):u("",!0)])):u("",!0),n.file?u("",!0):(s(),r("div",oi,li))]),_:1})]),_:1}),w(y(b,{title:"Conversion options",closeButtonText:"Ok",width:"600px",height:"95%",maxheight:"650px",alignment:"right",onClose:i.onConvertCloseClick},{default:x(()=>[y(_,{ref:"convertOptions"},null,512)]),_:1},8,["onClose"]),[[O,n.showConvertOptions]])])}var ri=f(Qn,[["render",ai]]);var ci=[{id:"converter",schema:{title:"Converter",description:"Cwebp and vips are best. the *magick are nearly as good, but only recent versions supports near-lossless. for full discussion, check the guide",enum:["cwebp","vips","imagick","gmagick","imagemagick","graphicsmagick","wpc","ffmpeg","ewww","gd","stack"],type:["string"],default:"cwebp"},ui:{component:"select",links:[["Guide","https://github.com/rosell-dk/webp-convert/blob/master/docs/v1.3/converting/converters.md"]]},sensitive:!1,options:["cwebp","vips","imagick","gmagick","imagemagick","graphicsmagick","wpc","ffmpeg","ewww","gd","stack"]},{id:"encoding",schema:{title:"Encoding",description:'Set encoding for the webp. If you choose "auto", webp-convert will convert to both lossy and lossless and pick the smallest result',enum:["auto","lossy","lossless"],type:["string"],default:"auto"},ui:{component:"select",links:[["Guide","https://github.com/rosell-dk/webp-convert/blob/master/docs/v2.0/converting/introduction-for-converting.md#auto-selecting-between-losslesslossy-encoding"]]},sensitive:!1,options:["auto","lossy","lossless"],unsupportedBy:["ffmpeg","ewww","gd","stack"]},{id:"quality",schema:{title:"Quality (Lossy)",description:"Quality for lossy encoding. ","default-png":85,"default-jpeg":75,oneOf:[{type:"number",minimum:0,maximum:100},{type:"string",enum:["auto"]}],type:["integer","string"],default:85},ui:{component:"slider",display:"option.encoding != 'lossless'"},unsupportedBy:["stack"]},{id:"auto-limit",schema:{title:"Auto-limit",description:"Enable this option to prevent an unnecessarily high quality setting for low quality jpegs. You really should enable this.",type:["boolean"],default:!0},ui:{component:"checkbox",advanced:!0,links:[["Guide","https://github.com/rosell-dk/webp-convert/blob/master/docs/v2.0/converting/introduction-for-converting.md#preventing-unnecessarily-high-quality-setting-for-low-quality-jpegs"]],display:"option.encoding != 'lossless'"},unsupportedBy:[]},{id:"alpha-quality",schema:{title:"Alpha quality",description:"Quality of alpha channel. Often, there is no need for high quality transparency layer and in some cases you can tweak this all the way down to 10 and save a lot in file size. The option only has effect with lossy encoding, and of course only on images with transparency.",type:["integer"],default:85,minimum:0,maximum:100},ui:{component:"slider",links:[["Guide","https://github.com/rosell-dk/webp-convert/blob/master/docs/v2.0/converting/introduction-for-converting.md#alpha-quality"]],display:"(option.encoding != 'lossless') && (imageType!='jpeg')"},unsupportedBy:["ffmpeg","ewww","gd","stack"]},{id:"near-lossless",schema:{title:'"Near lossless" quality',description:"This option allows you to get impressively better compression for lossless encoding, with minimal impact on visual quality. The range is 0 (maximum preprocessing) to 100 (no preprocessing).",type:["integer"],default:60,minimum:0,maximum:100},ui:{component:"slider",links:[["Guide","https://github.com/rosell-dk/webp-convert/blob/master/docs/v2.0/converting/introduction-for-converting.md#near-lossless"]],display:"option.encoding != 'lossy'"},unsupportedBy:["imagick","gmagick","imagemagick","graphicsmagick","ffmpeg","ewww","gd","stack"]},{id:"metadata",schema:{title:"Metadata",description:'Determines which metadata that should be copied over to the webp. Setting it to "all" preserves all metadata, setting it to "none" strips all metadata. *cwebp* can take a comma-separated list of which kinds of metadata that should be copied (ie "exif,icc"). *gd* will always remove all metadata and *ffmpeg* will always keep all metadata. The rest can either strip all or keep all (they will keep all, unless the option is set to *none*)',type:["string"],default:"none"},ui:{component:"multi-select",options:["all","none","exif","icc","xmp"]},sensitive:!1,unsupportedBy:["ffmpeg","gd","stack"]},{id:"method",schema:{title:"Reduction effort (0-6)",description:'Controls the trade off between encoding speed and the compressed file size and quality. Possible values range from 0 to 6. 0 is fastest. 6 results in best quality and compression. PS: The option corresponds to the "method" option in libwebp',type:["integer"],default:6,minimum:0,maximum:6},ui:{component:"slider",advanced:!0},unsupportedBy:["ewww","gd","stack"]},{id:"sharp-yuv",schema:{title:"Sharp YUV",description:"Better RGB->YUV color conversion (sharper and more accurate) at the expense of a little extra conversion time.",type:["boolean"],default:!0},ui:{component:"checkbox",advanced:!0,links:[["Ctrl.blog","https://www.ctrl.blog/entry/webp-sharp-yuv.html"]]},unsupportedBy:["ffmpeg","ewww","gd","stack"]},{id:"auto-filter",schema:{title:"Auto-filter",description:"Turns auto-filter on. This algorithm will spend additional time optimizing the filtering strength to reach a well-balanced quality. Unfortunately, it is extremely expensive in terms of computation. It takes about 5-10 times longer to do a conversion. A 1MB picture which perhaps typically takes about 2 seconds to convert, will takes about 15 seconds to convert with auto-filter. ",type:["boolean"],default:!1},ui:{component:"checkbox",advanced:!0},unsupportedBy:["vips","ffmpeg","ewww","gd","stack"]},{id:"low-memory",schema:{title:"Low memory",description:"Reduce memory usage of lossy encoding at the cost of ~30% longer encoding time and marginally larger output size. Only effective when the *method* option is 3 or more. Read more in [the docs](https://developers.google.com/speed/webp/docs/cwebp)",type:["boolean"],default:!1},ui:{component:"checkbox",advanced:!0,display:"(option.encoding != 'lossless') && (option.method>2)"},unsupportedBy:["ffmpeg","ewww","gd","stack"]},{id:"preset",schema:{title:"Preset",description:'Using a preset will set many of the other options to suit a particular type of source material. It even overrides them. It does however not override the quality option. "none" means that no preset will be set',enum:["none","default","photo","picture","drawing","icon","text"],type:["string"],default:"none"},ui:null,sensitive:!1,options:["none","default","photo","picture","drawing","icon","text"],unsupportedBy:["ffmpeg","ewww","gd","stack"]},{id:"size-in-percentage",schema:{"allow-null":!0,type:["integer","null"],default:null,minimum:0,maximum:100},ui:null,unsupportedBy:["vips","imagick","gmagick","imagemagick","graphicsmagick","ffmpeg","ewww","gd","stack"]},{id:"skip",schema:{type:["boolean"],default:!1},ui:null,unsupportedBy:["stack"]},{id:"log-call-arguments",schema:{type:["boolean"],default:!1},ui:null,unsupportedBy:[]},{id:"use-nice",schema:{type:["boolean"],default:!1},ui:null,unsupportedBy:["vips","imagick","gmagick","ffmpeg","ewww","gd","stack"]},{id:"jpeg",schema:{type:["array"],default:[]},ui:null,sensitive:!1,unsupportedBy:[]},{id:"png",schema:{type:["array"],default:[]},ui:null,sensitive:!1,unsupportedBy:[]}];const X=oe(ri);X.use(W);X.use(ne,{defaultHtml:!1});window.wcfmoptions||(window.wcfmoptions={},window.wcfmoptions.poster=function(t,e,o,d){switch(t){case"get-tree":var n={name:"root",isDir:!0,isOpen:!0,children:[{name:"test-folder",isDir:!0,children:[{name:"file",isDir:!1},{name:"subfolder",isDir:!0,children:[{name:"file",isDir:!1}]},{name:"file",isDir:!1}]},{name:"file",isDir:!1,isConverted:!0},{name:"file2",isDir:!1,isConverted:!1}]};break;case"conversion-settings":var n={options:ci,systemStatus:{converterRequirements:{gd:{extensionLoaded:!1,compiledWithWebP:!0}}}};break;case"info":if(e.path=="root/file2")var n={original:{filename:"file.png",size:100,url:"http://localhost:3000/src/assets/200x100.jpg"},converted:{filename:"file.png.webp",size:70,url:"http://localhost:3000/src/assets/200x100.jpg"},log:"blah blah blah"};else if(e.path=="root/file")var n={original:{filename:"file.png",size:100,url:"http://localhost:3000/src/assets/dummy2.jpg"},log:"blah blah blah"};else var n={original:{filename:"file.png",size:100,url:"http://localhost:3000/src/assets/dummy.jpg"},converted:{filename:"file.png.webp",size:70,url:"http://localhost:3000/src/assets/dummy.jpg"},log:"blah blah blah"};break;case"convert":var n={success:!1,msg:"Image type could not be detected"};break;default:var n="ok";break}o(n)});X.mount("#webpconvert-filemanager");
